#! /usr/bin/perl -pi.orig
#
# Simple Perl script to update code form OptimPack 3.1 to 3.2
#

# Public API.
s/\b_bobyqa_context\b/bobyqa_context_/g;
s/\bbobyqa_context_t\b/bobyqa_context/g;
s/\b_cobyla_context\b/cobyla_context_/g;
s/\bcobyla_context_t\b/cobyla_context/g;
s/\b_newuoa_context\b/newuoa_context_/g;
s/\bnewuoa_context_t\b/newuoa_context/g;
s/\b_opk_algorithm\b/opk_algorithm_/g;
s/\bopk_algorithm_t\b/opk_algorithm/g;
s/\b_opk_bfgs_scaling\b/opk_bfgs_scaling_/g;
s/\bopk_bfgs_scaling_t\b/opk_bfgs_scaling/g;
s/\b_opk_blas_diag\b/opk_blas_diag_/g;
s/\bopk_blas_diag_t\b/opk_blas_diag/g;
s/\b_opk_blas_order\b/opk_blas_order_/g;
s/\bopk_blas_order_t\b/opk_blas_order/g;
s/\b_opk_blas_side\b/opk_blas_side_/g;
s/\bopk_blas_side_t\b/opk_blas_side/g;
s/\b_opk_blas_trans\b/opk_blas_trans_/g;
s/\bopk_blas_trans_t\b/opk_blas_trans/g;
s/\b_opk_blas_uplo\b/opk_blas_uplo_/g;
s/\bopk_blas_uplo_t\b/opk_blas_uplo/g;
s/\b_opk_bool\b/opk_bool_/g;
s/\bopk_bool_t\b/opk_bool/g;
s/\b_opk_bound_type\b/opk_bound_type_/g;
s/\bopk_bound_type_t\b/opk_bound_type/g;
s/\b_opk_bound\b/opk_bound_/g;
s/\bopk_bound_t\b/opk_bound/g;
s/\b_opk_boxset\b/opk_boxset_/g;
s/\bopk_boxset_t\b/opk_boxset/g;
s/\b_opk_cg_state\b/opk_cg_state_/g;
s/\bopk_cg_state_t\b/opk_cg_state/g;
s/\b_opk_convexset\b/opk_convexset_/g;
s/\bopk_convexset_t\b/opk_convexset/g;
s/\b_opk_fmin_context\b/opk_fmin_context_/g;
s/\bopk_fmin_context_t\b/opk_fmin_context/g;
s/\b_opk_index\b/opk_index_/g;
s/\bopk_index_t\b/opk_index/g;
s/\b_opk_lnsrch_operations\b/opk_lnsrch_operations_/g;
s/\bopk_lnsrch_operations_t\b/opk_lnsrch_operations/g;
s/\b_opk_lnsrch_task\b/opk_lnsrch_task_/g;
s/\bopk_lnsrch_task_t\b/opk_lnsrch_task/g;
s/\b_opk_lnsrch_task\b/opk_lnsrch_task_/g;
s/\bopk_lnsrch_task_t\b/opk_lnsrch_task/g;
s/\b_opk_lnsrch\b/opk_lnsrch_/g;
s/\bopk_lnsrch_t\b/opk_lnsrch/g;
s/\b_opk_nlcg_options\b/opk_nlcg_options_/g;
s/\bopk_nlcg_options_t\b/opk_nlcg_options/g;
s/\b_opk_nlcg\b/opk_nlcg_/g;
s/\bopk_nlcg_t\b/opk_nlcg/g;
s/\b_opk_object\b/opk_object_/g;
s/\bopk_object_t\b/opk_object/g;
s/\b_opk_operator_operations\b/opk_operator_operations_/g;
s/\bopk_operator_operations_t\b/opk_operator_operations/g;
s/\b_opk_operator\b/opk_operator_/g;
s/\bopk_operator_t\b/opk_operator/g;
s/\b_opk_optimizer\b/opk_optimizer_/g;
s/\bopk_optimizer_t\b/opk_optimizer/g;
s/\b_opk_orientation\b/opk_orientation_/g;
s/\bopk_orientation_t\b/opk_orientation/g;
s/\b_opk_spg2\b/opk_spg2_/g;
s/\bopk_spg2_t\b/opk_spg2/g;
s/\b_opk_status\b/opk_status_/g;
s/\bopk_status_t\b/opk_status/g;
s/\b_opk_task\b/opk_task_/g;
s/\bopk_task_t\b/opk_task/g;
s/\b_opk_type\b/opk_eltype_/g;
s/\bopk_type_t\b/opk_eltype/g;
s/\b_opk_vector\b/opk_vector_/g;
s/\bopk_vector_t\b/opk_vector/g;
s/\b_opk_vmlmb_method\b/opk_vmlmb_method_/g;
s/\bopk_vmlmb_method_t\b/opk_vmlmb_method/g;
s/\b_opk_vmlmb_options\b/opk_vmlmb_options_/g;
s/\bopk_vmlmb_options_t\b/opk_vmlmb_options/g;
s/\b_opk_vmlmb\b/opk_vmlmb_/g;
s/\bopk_vmlmb_t\b/opk_vmlmb/g;
s/\b_opk_vspace_operations\b/opk_vspace_operations_/g;
s/\bopk_vspace_operations_t\b/opk_vspace_operations/g;
s/\b_opk_vspace\b/opk_vspace_/g;
s/\bopk_vspace_t\b/opk_vspace/g;

# Private API.
s/\bobject_t\b/object_type/g;
s/\b_context\b/context_/g;
s/\bcontext_t\b/context/g;
s/\b_operations\b/operations_/g;
s/\boperations_t\b/operations/g;
s/\b_sub_type\b/sub_type_/g;
s/\bsub_type_t\b/sub_type/g;
s/\b_simple_vector\b/simple_vector_/g;
s/\bsimple_vector_t\b/simple_vector/g;
s/\b_opk_set_(nlcg|vmlmb)_status\b/opk__set_\1_status/g;
s/\b_backtrack_lnsrch\b/backtrack_lnsrch_/g;
s/\bbacktrack_lnsrch_t\b/backtrack_lnsrch/g;
s/\b_csrch_lnsrch\b/csrch_lnsrch_/g;
s/\bcsrch_lnsrch_t\b/csrch_lnsrch/g;
s/\b_nonmonotone_lnsrch\b/nonmonotone_lnsrch_/g;
s/\bnonmonotone_lnsrch_t\b/nonmonotone_lnsrch/g;
s/\b_((OPK|OPTIMPACK|COBYLA|BOBYQA|NEWUOA)_[A-Z0-9_]+)\b/\1_/g;
s/\b_FMIN_SQRT_EPSILON_\b/FMIN_SQRT_EPSILON_/g;
